async function getObras(){const e=await fetch("http://localhost:3000/obras",{method:"GET",redirect:"follow"}),t=await e.text();return JSON.parse(t)}async function cargarObras(){const e=await getObras(),t=document.querySelector(".mainPage_functionsList");t.innerHTML="",e.map(e=>{t.innerHTML+=`\n      <a href="seats.html">\n        <div class="function">\n          <img src="../assets/images/function_prueba.jpg" alt="" />\n          <div>\n              <h2>${e.nombre}</h2>\n              <p>${e.descripcion}</p>\n          </div>\n          <input type="hidden" id="id_obra" value="${e.id}"/>\n        </div>\n      </a>`}),document.querySelectorAll(".function").forEach(e=>{e.addEventListener("click",()=>{const t=e.querySelector("#id_obra").value;localStorage.removeItem("id"),localStorage.setItem("id",t)})})}async function getObraById(){const e=localStorage.getItem("id");const t=await fetch("http://localhost:3000/obras/"+e,{method:"GET",redirect:"follow"}),n=await t.text();return JSON.parse(n)}async function cargarAsientos(){const e=await getObraById(),t=document.querySelector(".seats_functionInfo");t.innerHTML="",t.innerHTML+=`\n        <div class="function">\n          <img src="../assets/images/function_prueba.jpg" alt="" />\n          <div>\n              <h2>${e[0].nombre}</h2>\n              <p>${e[0].descripcion}</p>\n          </div>\n          <input type="hidden" id="id_obra" value="${e.id}"/>\n        </div>`;const n=document.querySelector(".seats_all_seats_image");e[0].asientos.map(e=>{n.innerHTML+=`<button class="seat" value='${e.numero}'></button>`});var a=[];n.querySelectorAll(".seat").forEach(e=>{e.addEventListener("click",()=>{a.includes(e.value)||a.push(e.value)})})}cargarObras(),cargarAsientos();